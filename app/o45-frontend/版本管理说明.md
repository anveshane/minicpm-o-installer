# 版本管理说明

## 启动命令

```bash
# 开发环境
npm run dev:internal    # 启动内部版本
npm run dev:external    # 启动对外版本

# 生产构建
npm run build:internal  # 构建内部版本
npm run build:external  # 构建对外版本
```

## 代码中如何使用

```javascript
// 获取当前版本
const version = import.meta.env.VITE_APP_VERSION;

// 判断是否为内部版本
if (import.meta.env.VITE_APP_VERSION === 'internal') {
    // 内部版本逻辑
    console.log('这是内部版本');
}

// 判断是否为对外版本
if (import.meta.env.VITE_APP_VERSION === 'external') {
    // 对外版本逻辑
    console.log('这是对外版本');
}
```

## Vue 组件中使用

```vue
<template>
    <div>
        <!-- 只在内部版本显示 -->
        <div v-if="isInternal">
            内部版本专属内容
        </div>
    </div>
</template>

<script setup>
const isInternal = import.meta.env.VITE_APP_VERSION === 'internal';
</script>
```

## Docker 构建

```bash
# 构建内部版本
docker build -f Dockerfile_internal -t app:internal .

# 构建对外版本
docker build -f Dockerfile_external -t app:external .
```

## 环境文件

- `.env.internal` - 内部版本配置（VITE_APP_VERSION=internal）
- `.env.external` - 对外版本配置（VITE_APP_VERSION=external）

