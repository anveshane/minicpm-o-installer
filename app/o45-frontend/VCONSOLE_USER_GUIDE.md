# 📱 用户诊断指南（vConsole 版）

> 本指南适用于普通用户，无需输入任何命令，只需查看 vConsole 输出即可。

---

## 🎯 什么是 vConsole？

vConsole 是手机浏览器的"开发者工具"，可以显示网页的运行日志。我们的系统会**自动检测摄像头问题**并输出到 vConsole。

---

## 📖 使用步骤（3 步）

### 第 1 步：打开 vConsole

1. 在页面上找到**绿色的悬浮按钮**（通常在右下角）
2. 点击它，会弹出一个面板
3. 点击面板顶部的 **"Log"** 标签

<details>
<summary>💡 如果没有看到绿色按钮怎么办？</summary>

联系技术支持开启 vConsole 功能，或在浏览器地址栏输入：
```
javascript:(function(){var script=document.createElement('script');script.src='https://unpkg.com/vconsole/dist/vconsole.min.js';document.body.appendChild(script);script.onload=function(){var vConsole=new window.VConsole();};})();
```
</details>

---

### 第 2 步：开始视频通话

1. 在页面上点击"开始视频通话"或类似按钮
2. 允许浏览器访问摄像头和麦克风
3. 等待 3-5 秒，系统会**自动诊断**

---

### 第 3 步：查看诊断结果

在 vConsole 的 Log 面板中，向下滚动，找到以下内容：

#### ✅ **正常情况**（推荐镜头）

你会看到这样的输出：

```
============================================================
📱 [自动诊断] 开始检测摄像头...
============================================================

📋 步骤 1/3: 列出所有可用摄像头
📱 可用摄像头:
...

📋 步骤 2/3: 检查当前使用的镜头
📸 当前摄像头:
- 镜头类型: ✅ Android 主摄 (Main/Primary)
- 分辨率: 960x540

📋 步骤 3/3: 自动分析结果
============================================================

✅✅✅ 诊断通过！✅✅✅
当前使用的是推荐镜头: ✅ Android 主摄
视频质量应该是正常的 👍

============================================================
📱 [自动诊断] 完成！
============================================================
```

**说明：** 看到 `✅✅✅ 诊断通过！` 说明摄像头正常，无需任何操作。

---

#### ⚠️ **异常情况**（不推荐的镜头）

你会看到这样的输出：

```
============================================================
📱 [自动诊断] 开始检测摄像头...
============================================================

📋 步骤 1/3: 列出所有可用摄像头
...

📋 步骤 2/3: 检查当前使用的镜头
📸 当前摄像头:
- 镜头类型: 🔍 ⚠️ 长焦镜头 (Telephoto)
- 分辨率: 960x540

📋 步骤 3/3: 自动分析结果
============================================================

⚠️⚠️⚠️ 检测到问题！⚠️⚠️⚠️
当前使用了不推荐的镜头: 🔍 ⚠️ 长焦镜头 (Telephoto)

💡 解决方案:
请将以下信息截图发给技术支持，我们会帮您切换镜头：

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📱 设备信息:
   当前镜头: 🔍 ⚠️ 长焦镜头 (Telephoto)
   设备型号: Android
   浏览器: Mozilla/5.0 (Linux; Android 12; vivo ...)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

============================================================
📱 [自动诊断] 完成！
============================================================
```

**说明：** 看到 `⚠️⚠️⚠️ 检测到问题！` 说明摄像头不正确。

---

## 📸 如何截图并反馈

### 截图步骤：

1. 确保 vConsole 面板已打开
2. 在诊断结果中找到以下关键信息：
   - `当前镜头: ...`
   - `设备型号: ...`
   - `浏览器: ...`
3. 对这部分内容**截图**

### iPhone 截图方法：
- 同时按 **音量上键 + 电源键**
- 或 **主屏幕按钮 + 电源键**（旧机型）

### Android 截图方法：
- 同时按 **音量下键 + 电源键**
- 或下拉通知栏，点击**截图**按钮

### 发送给技术支持：

将截图通过以下方式发送：
- 微信/钉钉/企业微信
- 邮件
- 或您的反馈渠道

---

## 🔄 切换摄像头后的诊断

当您**点击"翻转摄像头"按钮**后，系统也会自动诊断新镜头：

```
============================================================
📱 [切换后诊断] 检查新镜头...
============================================================
📸 当前摄像头:
...

✅ 切换成功！当前使用推荐镜头: ✅ iOS 主摄广角
============================================================
```

如果看到 `✅ 切换成功！` 说明切换后的镜头是正常的。

---

## 📊 常见诊断结果对照表

| 诊断结果 | 是否正常 | 说明 | 需要反馈？ |
|---------|---------|------|-----------|
| ✅ Android 主摄 | ✅ 正常 | 使用了正确的主摄像头 | ❌ 不需要 |
| ✅ iOS 主摄广角 | ✅ 正常 | 使用了正确的主摄像头 | ❌ 不需要 |
| ✅ Android 后置摄像头 (Camera 0) | ✅ 正常 | 使用了默认后置摄像头 | ❌ 不需要 |
| 🔍 ⚠️ 长焦镜头 | ❌ 异常 | **画面会放大，视野变窄** | ✅ 需要截图反馈 |
| 🔬 ⚠️ 微距镜头 | ❌ 异常 | 只能近距离清晰，不适合视频通话 | ✅ 需要截图反馈 |
| 📷 ⚠️ 景深镜头 | ❌ 异常 | 画质很差，不适合视频通话 | ✅ 需要截图反馈 |
| 📐 超广角 | ⚪ 特殊 | 视野很宽（可能太宽） | ⚪ 视情况反馈 |
| ❓ 未知 | ⚪ 未知 | 无法识别镜头类型 | ✅ 建议截图反馈 |

---

## ❓ 常见问题

### Q1: 找不到 vConsole 按钮怎么办？

**A:** 
1. 检查页面右下角是否有绿色悬浮按钮
2. 如果没有，联系技术支持开启 vConsole 功能
3. 或在测试环境下，vConsole 可能默认开启

---

### Q2: vConsole 输出太多内容，找不到诊断结果？

**A:** 
1. 清空日志：点击 vConsole 右上角的"垃圾桶"图标
2. 重新开始视频通话，诊断结果会在最后显示
3. 向下滚动到底部，找到 `📱 [自动诊断]` 开头的内容

---

### Q3: 诊断显示"异常"，但视频画面看起来正常？

**A:** 
- 如果**主观感觉画面没问题**，可以继续使用
- 但建议还是截图反馈给技术支持，方便后续优化
- 部分场景下，长焦镜头的画面可能符合某些用户的预期

---

### Q4: 诊断显示"正常"，但画面还是有问题？

**A:** 
可能是其他原因导致：
1. **网络问题**：视频卡顿或模糊
2. **光线问题**：环境太暗导致画质差
3. **设备性能**：低端设备可能画质较差
4. 请截图 vConsole 中的诊断信息，并描述具体问题反馈

---

### Q5: 每次通话都要看 vConsole 吗？

**A:** 
- **首次使用**：建议查看诊断结果，确保摄像头正常
- **后续使用**：如果首次诊断通过，后续可以不看
- **出现问题时**：打开 vConsole 查看诊断，截图反馈

---

## 📞 技术支持

如果遇到以下情况，请截图 vConsole 诊断结果并联系技术支持：

- ⚠️ 诊断显示"检测到问题"
- ❓ 诊断显示"未知镜头类型"
- 📷 视频画面明显异常（放大、缩小、模糊、黑白）
- 🐛 vConsole 中出现红色错误信息

---

## 🎉 总结

✅ **无需输入任何命令**  
✅ **自动诊断摄像头**  
✅ **清晰的诊断结果**  
✅ **一键截图反馈**

只需 3 步：**打开 vConsole → 开始通话 → 查看结果**

如果诊断显示 `✅✅✅ 诊断通过！` 就可以放心使用了！ 🎊
