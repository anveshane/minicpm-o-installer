<!--
  å“åº”å¼è®¾è®¡ç¤ºä¾‹ç»„ä»¶
  å±•ç¤ºå¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨å¤šç«¯é€‚é…åŠŸèƒ½
-->
<template>
    <div class="responsive-example">
        <!-- è®¾å¤‡ä¿¡æ¯æ˜¾ç¤ºï¼ˆå¼€å‘è°ƒè¯•ç”¨ï¼‰ -->
        <div class="device-info" v-if="showDebugInfo">
            <h3>ğŸ“± å½“å‰è®¾å¤‡ä¿¡æ¯</h3>
            <ul>
                <li>
                    è®¾å¤‡ç±»å‹: <strong>{{ deviceTypeLabel }}</strong>
                </li>
                <li>
                    å±å¹•æ–¹å‘: <strong>{{ orientationLabel }}</strong>
                </li>
                <li>å±å¹•å°ºå¯¸: {{ screenInfo }}</li>
            </ul>
        </div>

        <!-- æ–¹æ³•ä¸€ï¼šä½¿ç”¨ v-if æ¡ä»¶æ¸²æŸ“ -->
        <section class="method-1">
            <h4>æ–¹æ³•ä¸€ï¼šæ¡ä»¶æ¸²æŸ“ï¼ˆv-ifï¼‰</h4>
            <div v-if="isPc" class="content-box pc-content">
                <h5>ğŸ–¥ï¸ PC ä¸“ç”¨å¸ƒå±€</h5>
                <p>è¿™æ˜¯åªåœ¨ PC ä¸Šæ˜¾ç¤ºçš„å†…å®¹</p>
            </div>
            <div v-else-if="isTablet" class="content-box tablet-content">
                <h5>ğŸ“± å¹³æ¿å¸ƒå±€</h5>
                <p>å¹³æ¿æ¨ªå±å’Œç«–å±å…±ç”¨æ­¤å¸ƒå±€</p>
                <p>å½“å‰æ–¹å‘: {{ orientation }}</p>
            </div>
            <div v-else-if="isMobile" class="content-box mobile-content">
                <h5>ğŸ“± æ‰‹æœºä¸“ç”¨å¸ƒå±€</h5>
                <p>è¿™æ˜¯æ‰‹æœºä¸“ç”¨çš„å¸ƒå±€</p>
            </div>
        </section>

        <!-- æ–¹æ³•äºŒï¼šä½¿ç”¨ CSS ç±»å -->
        <section class="method-2">
            <h4>æ–¹æ³•äºŒï¼šCSS ç±»åæ§åˆ¶</h4>
            <div class="pc-only content-box pc-content">
                <p>ğŸ–¥ï¸ PC only (ä½¿ç”¨ .pc-only ç±»)</p>
            </div>
            <div class="tablet-only content-box tablet-content">
                <p>ğŸ“± Tablet only (ä½¿ç”¨ .tablet-only ç±»)</p>
            </div>
            <div class="mobile-only content-box mobile-content">
                <p>ğŸ“± Mobile only (ä½¿ç”¨ .mobile-only ç±»)</p>
            </div>
        </section>

        <!-- æ–¹æ³•ä¸‰ï¼šå“åº”å¼ CSS å˜é‡ -->
        <section class="method-3">
            <h4>æ–¹æ³•ä¸‰ï¼šå“åº”å¼ CSS å˜é‡</h4>
            <div class="responsive-container">
                <button class="responsive-button">
                    <span class="responsive-icon">ğŸ¯</span>
                    è‡ªé€‚åº”æŒ‰é’®
                </button>
                <p class="responsive-text">
                    è¿™ä¸ªå®¹å™¨ä½¿ç”¨äº†å“åº”å¼ CSS å˜é‡ï¼Œä¼šæ ¹æ®è®¾å¤‡ç±»å‹è‡ªåŠ¨è°ƒæ•´ï¼šå†…è¾¹è·ã€å­—ä½“å¤§å°ã€æŒ‰é’®å°ºå¯¸ç­‰
                </p>
            </div>
        </section>

        <!-- æ–¹æ³•å››ï¼šæ¨ªç«–å±é€‚é… -->
        <section class="method-4">
            <h4>æ–¹æ³•å››ï¼šæ¨ªç«–å±é€‚é…</h4>
            <div class="orientation-demo">
                <div v-if="isPortrait" class="portrait-layout">
                    <p>ğŸ“± ç«–å±å¸ƒå±€</p>
                    <div class="demo-box">å†…å®¹å‚ç›´æ’åˆ—</div>
                    <div class="demo-box">é€‚åˆå•åˆ—æ˜¾ç¤º</div>
                </div>
                <div v-else class="landscape-layout">
                    <p>ğŸ“± æ¨ªå±å¸ƒå±€</p>
                    <div class="demo-boxes">
                        <div class="demo-box">å†…å®¹</div>
                        <div class="demo-box">æ°´å¹³</div>
                        <div class="demo-box">æ’åˆ—</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å®é™…åº”ç”¨ç¤ºä¾‹ï¼šè§†é¢‘æ§åˆ¶æŒ‰é’® -->
        <section class="method-5">
            <h4>å®é™…åº”ç”¨ï¼šè§†é¢‘é€šè¯æ§åˆ¶æŒ‰é’®</h4>
            <div class="video-controls-demo">
                <!-- PCï¼šæ¨ªå‘æ’åˆ—ï¼Œå°æŒ‰é’® -->
                <div v-if="isPc" class="controls-horizontal">
                    <button class="control-btn">ğŸ¤ éº¦å…‹é£</button>
                    <button class="control-btn">ğŸ“¹ æ‘„åƒå¤´</button>
                    <button class="control-btn">ğŸ“„ æ–‡æœ¬</button>
                    <button class="control-btn danger">ğŸ“ ç»“æŸ</button>
                </div>

                <!-- å¹³æ¿ï¼šæ ¹æ®æ¨ªç«–å±åˆ‡æ¢å¸ƒå±€ -->
                <div v-else-if="isTablet" :class="isPortrait ? 'controls-vertical' : 'controls-horizontal'">
                    <button class="control-btn">ğŸ¤</button>
                    <button class="control-btn">ğŸ“¹</button>
                    <button class="control-btn">ğŸ”„</button>
                    <button class="control-btn danger">ğŸ“</button>
                </div>

                <!-- æ‰‹æœºï¼šçºµå‘æ’åˆ—ï¼Œå¤§æŒ‰é’® -->
                <div v-else-if="isMobile" class="controls-vertical">
                    <button class="control-btn large">ğŸ¤</button>
                    <button class="control-btn large">ğŸ“¹</button>
                    <button class="control-btn large">ğŸ”„</button>
                    <button class="control-btn large danger">ğŸ“</button>
                </div>
            </div>
        </section>

        <!-- åˆ‡æ¢è°ƒè¯•ä¿¡æ¯æŒ‰é’® -->
        <button class="toggle-debug" @click="showDebugInfo = !showDebugInfo">
            {{ showDebugInfo ? 'éšè—' : 'æ˜¾ç¤º' }} è°ƒè¯•ä¿¡æ¯
        </button>
    </div>
</template>

<script setup>
    import { ref, computed } from 'vue';
    import { useDevice } from '@/hooks/useDevice';

    // ä½¿ç”¨è®¾å¤‡æ£€æµ‹ Hook
    const { deviceType, orientation, isPc, isTablet, isMobile, isPortrait, isLandscape, getDeviceInfo } = useDevice();

    // è°ƒè¯•ä¿¡æ¯å¼€å…³
    const showDebugInfo = ref(true);

    // è®¾å¤‡ç±»å‹æ ‡ç­¾
    const deviceTypeLabel = computed(() => {
        switch (deviceType.value) {
            case 'pc':
                return 'PC æ¡Œé¢ç«¯';
            case 'tablet':
                return 'å¹³æ¿è®¾å¤‡';
            case 'mobile':
                return 'æ‰‹æœºè®¾å¤‡';
            default:
                return 'æœªçŸ¥è®¾å¤‡';
        }
    });

    // å±å¹•æ–¹å‘æ ‡ç­¾
    const orientationLabel = computed(() => {
        return orientation.value === 'portrait' ? 'ç«–å±' : 'æ¨ªå±';
    });

    // å±å¹•ä¿¡æ¯
    const screenInfo = computed(() => {
        const info = getDeviceInfo();
        return `${info.screenWidth} x ${info.screenHeight}`;
    });
</script>

<style scoped>
    .responsive-example {
        max-width: 1200px;
        margin: 0 auto;
        padding: var(--device-padding);
    }

    /* è®¾å¤‡ä¿¡æ¯æ˜¾ç¤º */
    .device-info {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: var(--device-padding);
        border-radius: var(--device-border-radius);
        margin-bottom: var(--device-spacing);
    }

    .device-info h3 {
        margin: 0 0 12px 0;
        font-size: var(--device-font-size-large);
    }

    .device-info ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .device-info li {
        margin: 8px 0;
        font-size: var(--device-font-size);
    }

    /* å„ä¸ªç¤ºä¾‹åŒºå— */
    section {
        margin-bottom: calc(var(--device-spacing) * 2);
        padding: var(--device-padding);
        background: #f8f9fa;
        border-radius: var(--device-border-radius);
    }

    section h4 {
        margin: 0 0 16px 0;
        font-size: var(--device-font-size-large);
        color: #333;
    }

    .content-box {
        padding: 16px;
        border-radius: 8px;
        margin: 8px 0;
    }

    .pc-content {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
    }

    .tablet-content {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
    }

    .mobile-content {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
    }

    /* æ–¹æ³•ä¸‰ï¼šå“åº”å¼å®¹å™¨ */
    .responsive-container {
        padding: var(--device-padding);
        background: white;
        border-radius: var(--device-border-radius);
        text-align: center;
    }

    .responsive-button {
        width: auto;
        min-width: var(--device-button-size);
        height: var(--device-button-size);
        padding: 0 calc(var(--device-padding) * 1.5);
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: var(--device-border-radius);
        font-size: var(--device-font-size);
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        transition: transform 0.2s;
    }

    .responsive-button:hover {
        transform: scale(1.05);
    }

    .responsive-button:active {
        transform: scale(0.95);
    }

    .responsive-icon {
        font-size: var(--device-icon-size);
    }

    .responsive-text {
        margin-top: 16px;
        font-size: var(--device-font-size);
        color: #666;
    }

    /* æ–¹æ³•å››ï¼šæ¨ªç«–å±å¸ƒå±€ */
    .orientation-demo {
        background: white;
        padding: var(--device-padding);
        border-radius: var(--device-border-radius);
    }

    .portrait-layout {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .landscape-layout {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .demo-boxes {
        display: flex;
        gap: 12px;
    }

    .demo-box {
        flex: 1;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 8px;
        text-align: center;
    }

    /* è§†é¢‘æ§åˆ¶æŒ‰é’®ç¤ºä¾‹ */
    .video-controls-demo {
        background: #1a1a1a;
        padding: var(--device-padding);
        border-radius: var(--device-border-radius);
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 120px;
    }

    .controls-horizontal {
        display: flex;
        gap: var(--device-spacing);
        align-items: center;
    }

    .controls-vertical {
        display: flex;
        flex-direction: column;
        gap: var(--device-spacing);
        align-items: center;
    }

    .control-btn {
        width: var(--device-button-size);
        height: var(--device-button-size);
        border-radius: 50%;
        border: none;
        background: rgba(255, 255, 255, 0.2);
        color: white;
        font-size: calc(var(--device-icon-size) * 0.8);
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .control-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.1);
    }

    .control-btn.large {
        width: calc(var(--device-button-size) * 1.2);
        height: calc(var(--device-button-size) * 1.2);
    }

    .control-btn.danger {
        background: #ff4444;
    }

    .control-btn.danger:hover {
        background: #ff6666;
    }

    /* åˆ‡æ¢è°ƒè¯•ä¿¡æ¯æŒ‰é’® */
    .toggle-debug {
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 12px 24px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 24px;
        font-size: var(--device-font-size);
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        z-index: 1000;
        transition: all 0.2s;
    }

    .toggle-debug:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    }

    .toggle-debug:active {
        transform: translateY(0);
    }

    /* ç§»åŠ¨è®¾å¤‡ä¼˜åŒ– */
    @media screen and (max-width: 767px) {
        .responsive-example {
            padding: 12px;
        }

        section {
            padding: 12px;
        }

        .device-info {
            padding: 12px;
        }

        .toggle-debug {
            bottom: 12px;
            right: 12px;
            padding: 10px 20px;
            font-size: 12px;
        }
    }
</style>
